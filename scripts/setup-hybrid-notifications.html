<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Schedule Hybrid Updates — Brew Scripts</title>
  <meta name="description" content="Creates a macOS launchd agent to run auto-update-brew-hybrid.sh on a schedule. Same as setup-auto-update.sh but triggers the hybrid (email + text) version of the auto-update script.">
  <meta name="author" content="CodeCraftedApps">
  <link rel="canonical" href="https://brewscripts.codecraftedapps.com/scripts/setup-hybrid-notifications.html">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Schedule Hybrid Updates — Brew Scripts">
  <meta property="og:description" content="Creates a macOS launchd agent to run auto-update-brew-hybrid.sh on a schedule. Same as setup-auto-update.sh but triggers the hybrid (email + text) version of the auto-update script.">
  <meta property="og:url" content="https://brewscripts.codecraftedapps.com/scripts/setup-hybrid-notifications.html">
  <meta property="og:site_name" content="Brew Scripts">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Schedule Hybrid Updates — Brew Scripts">
  <meta name="twitter:description" content="Creates a macOS launchd agent to run auto-update-brew-hybrid.sh on a schedule. Same as setup-auto-update.sh but triggers the hybrid (email + text) version of the auto-update script.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#0f1117">
  <meta name="color-scheme" content="dark">
  <link rel="icon" type="image/png" href="../favicon.png">
  <link rel="apple-touch-icon" href="../apple-touch-icon.png">
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <a href="#main" class="skip-link">Skip to content</a>
  <header class="site-header">
    <div class="container">
      <a href="../index.html" class="site-logo">Brew<span>Scripts</span></a>
      <button class="nav-toggle" aria-label="Toggle navigation">&#9776;</button>
      <nav class="site-nav">
        <a href="../index.html">Home</a>
        <a href="../getting-started.html">Getting Started</a>
        <a href="../guides.html">Guides</a>
        <a href="../scripts.html" class="active">Scripts</a>
        <a href="../faq.html">FAQ</a>
        <a href="../about.html">About</a>
      </nav>
    </div>
  </header>

  <main id="main">
    <nav class="breadcrumbs container" aria-label="Breadcrumb">
      <a href="../index.html">Home</a><span class="separator">/</span><a href="../scripts.html">Scripts</a><span class="separator">/</span>Schedule Hybrid Updates
    </nav>

    <div class="page-header">
      <div class="container">
        <h1>Schedule Hybrid Updates</h1>
        <p>Automate Homebrew updates with scheduled email reports and text message alerts.</p>
        <div class="script-meta">
          <span class="script-meta-item">&#128196; setup-hybrid-notifications.sh</span>
          <span class="script-meta-item">&#128737; Scheduling</span>
          <span class="script-meta-item">&#128187; macOS 12.0+</span>
        </div>
        <div class="script-actions">
          <a href="https://raw.githubusercontent.com/DJCastle/homeBrewScripts/main/setup-hybrid-notifications.sh" class="btn-primary" download>Download Script</a>
          <a href="https://github.com/DJCastle/homeBrewScripts/blob/main/setup-hybrid-notifications.sh" class="btn-secondary" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
      </div>
    </div>

    <section class="content-section reveal">
      <div class="container">
        <div class="content-body">
          <h2>What This Script Does</h2>
          <p>The <code>setup-hybrid-notifications.sh</code> script creates a macOS LaunchAgent that automatically triggers the hybrid auto-update script on a recurring schedule. This is the companion scheduling script for <code>auto-update-brew-hybrid.sh</code>, and it is the recommended way to set up fully automated Homebrew maintenance with comprehensive notification support. Once configured, your Mac will keep all Homebrew packages up to date in the background and notify you via both email and text message whenever updates are applied.</p>
          <p>This script works identically to the basic scheduling script (<code>setup-auto-update.sh</code>) in terms of its scheduling mechanism. The only difference is which auto-update script it targets. Where the basic scheduler points to <code>auto-update-brew.sh</code> (text-only notifications), this scheduler points to <code>auto-update-brew-hybrid.sh</code> (email and text notifications). Everything else &mdash; the interactive schedule selection, the plist generation, the launchd registration &mdash; follows the same process.</p>
          <p>When you run the script, it guides you through selecting your preferred update schedule. You choose the frequency (daily, weekly, or on a specific day) and the time of day. The script then generates a launchd plist file that encodes your schedule preferences in the XML format that macOS expects. The plist is written to <code>~/Library/LaunchAgents/</code> and loaded into launchd, which activates the schedule immediately.</p>
          <p>The LaunchAgent uses a different identifier than the basic scheduling agent, which means you can run both side by side if you want. However, this is not recommended &mdash; running two separate auto-update agents would mean your packages get updated twice as often, which is unnecessary and doubles the notification volume. If you are switching from the basic scheduler to the hybrid scheduler, the recommended approach is to first unload the basic agent, then set up the hybrid agent. The script's documentation explains how to do this.</p>
          <p>Like all launchd agents, the scheduled task created by this script persists across restarts and login sessions. It runs under your user account and does not require administrator privileges. If your Mac is asleep or off when the scheduled update time arrives, launchd will run the update the next time your Mac wakes up or boots, ensuring no scheduled runs are permanently missed. The plist configuration includes the <code>StartCalendarInterval</code> key, which is the launchd equivalent of a cron schedule expression.</p>
          <p>Before running this script, make sure you have configured both your email address and phone number in the Brew Scripts configuration file. The hybrid auto-update script uses both of these settings for its dual notification system. If either is missing, the corresponding notification channel will be silently skipped during each update run, which partially defeats the purpose of using the hybrid variant. You should also verify that your Mail.app has at least one active email account configured, since the email notifications are sent through Mail.app's AppleScript interface.</p>
          <p>If you later decide you want to change the schedule, simply run this script again. It detects the existing plist, unloads the current agent, generates a fresh plist with your new preferences, and reloads it. You do not need to manually edit XML files or remember arcane launchctl commands. To stop scheduled updates entirely, you can unload the agent with a single terminal command, and to resume you simply load it again.</p>
        </div>
      </div>
    </section>

    <section class="content-section reveal">
      <div class="container">
        <div class="content-body">
          <h2>Usage</h2>
          <p>Run this script once to set up the scheduled hybrid update agent. The script will guide you through choosing a schedule interactively.</p>
          <pre><code># Set up the scheduled hybrid auto-update agent
./setup-hybrid-notifications.sh</code></pre>
          <p>After setup, manage the agent with these commands:</p>
          <pre><code># Verify the hybrid agent is loaded
launchctl list | grep brewscripts

# Manually trigger a hybrid update right now
launchctl start com.brewscripts.autoupdate-hybrid

# Stop scheduled hybrid updates
launchctl unload ~/Library/LaunchAgents/com.brewscripts.autoupdate-hybrid.plist

# Resume scheduled hybrid updates
launchctl load ~/Library/LaunchAgents/com.brewscripts.autoupdate-hybrid.plist</code></pre>
        </div>
      </div>
    </section>

    <section class="content-section reveal">
      <div class="container">
        <div class="content-body">
          <h2>What Gets Changed</h2>
          <ul>
            <li><strong>LaunchAgent plist</strong> &mdash; A new file is created at <code>~/Library/LaunchAgents/com.brewscripts.autoupdate-hybrid.plist</code>. This XML configuration file tells launchd when and how to run the hybrid auto-update script.</li>
            <li><strong>launchd registration</strong> &mdash; The plist is loaded into launchd via <code>launchctl load</code>, activating the schedule immediately. The agent remains active across restarts until explicitly unloaded.</li>
          </ul>
          <p>This script does not modify Homebrew packages, system files, or your configuration file. It exclusively handles the creation and registration of the launchd scheduling agent. All update and notification work is delegated to the <code>auto-update-brew-hybrid.sh</code> script when launchd triggers it.</p>
        </div>
      </div>
    </section>

    <section class="content-section reveal">
      <div class="container">
        <div class="content-body">
          <h2>Related Scripts</h2>
          <ul>
            <li><a href="setup-auto-update.html">Schedule Auto-Updates</a> &mdash; The equivalent scheduling script for the basic (text-only) auto-update. Choose this if you only want text message notifications without email reports.</li>
            <li><a href="auto-update-brew-hybrid.html">Auto-Update with Email &amp; Text</a> &mdash; The hybrid auto-update script that this scheduling agent triggers. Read its documentation to understand exactly what happens during each scheduled run, including the email and text notification details.</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <a href="../index.html" class="site-logo">Brew<span>Scripts</span></a>
          <p class="footer-tagline">Homebrew automation scripts for macOS — learn shell scripting while automating your Mac setup.</p>
        </div>
        <div class="footer-column">
          <h4>Resources</h4>
          <a href="../getting-started.html">Getting Started</a>
          <a href="../guides.html">Guides</a>
          <a href="../scripts.html">Scripts</a>
          <a href="../faq.html">FAQ</a>
        </div>
        <div class="footer-column">
          <h4>Project</h4>
          <a href="../about.html">About</a>
          <a href="../contact.html">Contact</a>
          <a href="../privacy.html">Privacy Policy</a>
          <a href="../terms.html">Terms of Service</a>
          <a href="https://github.com/DJCastle/homeBrewScripts" target="_blank" rel="noopener noreferrer">GitHub</a>
          <a href="https://codecraftedapps.com" target="_blank" rel="noopener noreferrer">CodeCraftedApps</a>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2026 CodeCraftedApps. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <button class="back-to-top" aria-label="Back to top">&uarr;</button>

  <script>
  (function() {
    var toggle = document.querySelector('.nav-toggle');
    var nav = document.querySelector('.site-nav');
    toggle.addEventListener('click', function(e) {
      e.stopPropagation();
      nav.classList.toggle('open');
    });
    document.addEventListener('click', function(e) {
      if (!nav.contains(e.target) && !toggle.contains(e.target)) {
        nav.classList.remove('open');
      }
    });

    var reveals = document.querySelectorAll('.reveal');
    if (reveals.length) {
      var observer = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });
      reveals.forEach(function(el) { observer.observe(el); });
    }

    var backToTop = document.querySelector('.back-to-top');
    if (backToTop) {
      window.addEventListener('scroll', function() {
        if (window.scrollY > 300) {
          backToTop.classList.add('visible');
        } else {
          backToTop.classList.remove('visible');
        }
      });
      backToTop.addEventListener('click', function() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }
  })();
  </script>

  <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="codecraftopensource" data-description="Support me on Buy me a coffee!" data-message="Thank you for visiting and for your support." data-color="#F59E0B" data-position="Right" data-x_margin="18" data-y_margin="18"></script>
</body>
</html>