<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Schedule Auto-Updates — Brew Scripts</title>
  <meta name="description" content="Creates a macOS launchd agent to run auto-update-brew.sh on a schedule. Prompts you to choose the update frequency and time. The scheduled task runs in the background.">
  <meta name="author" content="CodeCraftedApps">
  <link rel="canonical" href="https://brewscripts.codecraftedapps.com/scripts/setup-auto-update.html">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Schedule Auto-Updates — Brew Scripts">
  <meta property="og:description" content="Creates a macOS launchd agent to run auto-update-brew.sh on a schedule. Prompts you to choose the update frequency and time. The scheduled task runs in the background.">
  <meta property="og:url" content="https://brewscripts.codecraftedapps.com/scripts/setup-auto-update.html">
  <meta property="og:site_name" content="Brew Scripts">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Schedule Auto-Updates — Brew Scripts">
  <meta name="twitter:description" content="Creates a macOS launchd agent to run auto-update-brew.sh on a schedule. Prompts you to choose the update frequency and time. The scheduled task runs in the background.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#0f1117">
  <meta name="color-scheme" content="dark">
  <link rel="icon" type="image/png" href="../favicon.png">
  <link rel="apple-touch-icon" href="../apple-touch-icon.png">
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <a href="#main" class="skip-link">Skip to content</a>
  <header class="site-header">
    <div class="container">
      <a href="../index.html" class="site-logo">Brew<span>Scripts</span></a>
      <button class="nav-toggle" aria-label="Toggle navigation">&#9776;</button>
      <nav class="site-nav">
        <a href="../index.html">Home</a>
        <a href="../getting-started.html">Getting Started</a>
        <a href="../guides.html">Guides</a>
        <a href="../scripts.html" class="active">Scripts</a>
        <a href="../faq.html">FAQ</a>
        <a href="../about.html">About</a>
      </nav>
    </div>
  </header>

  <main id="main">
    <nav class="breadcrumbs container" aria-label="Breadcrumb">
      <a href="../index.html">Home</a><span class="separator">/</span><a href="../scripts.html">Scripts</a><span class="separator">/</span>Schedule Auto-Updates
    </nav>

    <div class="page-header">
      <div class="container">
        <h1>Schedule Auto-Updates</h1>
        <p>Create a macOS launchd agent to run Homebrew updates on a recurring schedule.</p>
        <div class="script-meta">
          <span class="script-meta-item">&#128196; setup-auto-update.sh</span>
          <span class="script-meta-item">&#128737; Scheduling</span>
          <span class="script-meta-item">&#128187; macOS 12.0+</span>
        </div>
        <div class="script-actions">
          <a href="https://raw.githubusercontent.com/DJCastle/homeBrewScripts/main/setup-auto-update.sh" class="btn-primary" download>Download Script</a>
          <a href="https://github.com/DJCastle/homeBrewScripts/blob/main/setup-auto-update.sh" class="btn-secondary" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
      </div>
    </div>

    <section class="content-section reveal">
      <div class="container">
        <div class="content-body">
          <h2>What This Script Does</h2>
          <p>The <code>setup-auto-update.sh</code> script automates the process of creating a macOS LaunchAgent that runs the basic auto-update script on a schedule you define. Instead of remembering to run Homebrew updates manually, this script sets up the system so updates happen automatically in the background at a time that works for you. It is the recommended way to ensure your Homebrew packages stay current without any ongoing effort on your part.</p>
          <p>macOS uses a system called launchd for managing background tasks, scheduled jobs, and system services. Launchd is similar to cron on Linux, but it is more tightly integrated with macOS and supports features like running missed jobs when the system wakes from sleep. The setup script generates a properly formatted launchd plist (property list) file and installs it as a user-level LaunchAgent, which means it runs under your user account and does not require root privileges.</p>
          <p>When you run this script, it prompts you to choose your preferred update schedule. You can select from several common options, including daily, weekly, or on a specific day of the week. You also choose the time of day for the update to run. Most users find that scheduling updates for early morning or late evening works well, since Homebrew operations can temporarily increase CPU usage and you want the update to finish before you need your Mac for intensive work.</p>
          <p>The script generates a plist XML file that contains your schedule preferences, the path to the auto-update script, and metadata that launchd uses to manage the job. It writes this file to the standard LaunchAgents directory at <code>~/Library/LaunchAgents/</code>, using a reverse-domain naming convention that makes the agent easy to identify. After writing the file, the script loads it into launchd using the <code>launchctl</code> command, which activates the schedule immediately.</p>
          <p>One of the advantages of launchd over simple cron jobs is its handling of missed executions. If your Mac is asleep or powered off when a scheduled update is supposed to run, launchd remembers the missed execution and runs the job the next time your Mac wakes up or starts. This ensures that your packages do not go weeks without updates just because your Mac happened to be off at the scheduled time. The plist file includes configuration to enable this catch-up behavior.</p>
          <p>If you have previously set up a scheduled update and want to change the schedule, simply run this script again. It detects the existing plist file, unloads the current schedule from launchd, generates a new plist with your updated preferences, and loads the new schedule. This makes it easy to adjust your update frequency as your needs change over time, without needing to manually edit XML files or run launchctl commands yourself.</p>
          <p>After setup is complete, the script shows you a confirmation message with the details of the schedule it created. It also tells you how to verify that the agent is loaded, how to manually trigger it for testing, and how to unload it if you ever want to stop automatic updates. All of these commands are standard launchctl operations that any macOS user can run from Terminal.</p>
        </div>
      </div>
    </section>

    <section class="content-section reveal">
      <div class="container">
        <div class="content-body">
          <h2>Usage</h2>
          <p>Run this script once to set up the scheduled task. You do not need to run it again unless you want to change the schedule.</p>
          <pre><code># Set up the scheduled auto-update agent
./setup-auto-update.sh</code></pre>
          <p>After the agent is installed, you can verify it is running and manage it with these commands:</p>
          <pre><code># Verify the agent is loaded
launchctl list | grep brewscripts

# Manually trigger an update right now (for testing)
launchctl start com.brewscripts.autoupdate

# Unload the agent (stop scheduled updates)
launchctl unload ~/Library/LaunchAgents/com.brewscripts.autoupdate.plist

# Reload the agent (resume scheduled updates)
launchctl load ~/Library/LaunchAgents/com.brewscripts.autoupdate.plist</code></pre>
        </div>
      </div>
    </section>

    <section class="content-section reveal">
      <div class="container">
        <div class="content-body">
          <h2>What Gets Changed</h2>
          <ul>
            <li><strong>LaunchAgent plist</strong> &mdash; A new file is created at <code>~/Library/LaunchAgents/com.brewscripts.autoupdate.plist</code>. This XML file contains the schedule configuration and the path to the auto-update script that launchd will execute.</li>
            <li><strong>launchd registration</strong> &mdash; The newly created plist is loaded into launchd via <code>launchctl load</code>, which activates the schedule immediately. The agent persists across restarts and login sessions.</li>
          </ul>
          <p>This script does not modify any Homebrew packages, system files, or application configurations. It only creates and registers the scheduled task. The actual update work is performed by <code>auto-update-brew.sh</code> when launchd triggers it at the scheduled time.</p>
        </div>
      </div>
    </section>

    <section class="content-section reveal">
      <div class="container">
        <div class="content-body">
          <h2>Related Scripts</h2>
          <ul>
            <li><a href="setup-hybrid-notifications.html">Schedule Hybrid Updates</a> &mdash; The equivalent scheduling script for the hybrid (email + text) auto-update script. Choose this if you want both email reports and text message alerts.</li>
            <li><a href="auto-update-brew.html">Auto-Update (Basic)</a> &mdash; The auto-update script that this scheduling agent triggers. Read its documentation to understand exactly what happens during each scheduled update run.</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <a href="../index.html" class="site-logo">Brew<span>Scripts</span></a>
          <p class="footer-tagline">Homebrew automation scripts for macOS — learn shell scripting while automating your Mac setup.</p>
        </div>
        <div class="footer-column">
          <h4>Resources</h4>
          <a href="../getting-started.html">Getting Started</a>
          <a href="../guides.html">Guides</a>
          <a href="../scripts.html">Scripts</a>
          <a href="../faq.html">FAQ</a>
        </div>
        <div class="footer-column">
          <h4>Project</h4>
          <a href="../about.html">About</a>
          <a href="../contact.html">Contact</a>
          <a href="../privacy.html">Privacy Policy</a>
          <a href="../terms.html">Terms of Service</a>
          <a href="https://github.com/DJCastle/homeBrewScripts" target="_blank" rel="noopener noreferrer">GitHub</a>
          <a href="https://codecraftedapps.com" target="_blank" rel="noopener noreferrer">CodeCraftedApps</a>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2026 CodeCraftedApps. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <button class="back-to-top" aria-label="Back to top">&uarr;</button>

  <script>
  (function() {
    var toggle = document.querySelector('.nav-toggle');
    var nav = document.querySelector('.site-nav');
    toggle.addEventListener('click', function(e) {
      e.stopPropagation();
      nav.classList.toggle('open');
    });
    document.addEventListener('click', function(e) {
      if (!nav.contains(e.target) && !toggle.contains(e.target)) {
        nav.classList.remove('open');
      }
    });

    var reveals = document.querySelectorAll('.reveal');
    if (reveals.length) {
      var observer = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });
      reveals.forEach(function(el) { observer.observe(el); });
    }

    var backToTop = document.querySelector('.back-to-top');
    if (backToTop) {
      window.addEventListener('scroll', function() {
        if (window.scrollY > 300) {
          backToTop.classList.add('visible');
        } else {
          backToTop.classList.remove('visible');
        }
      });
      backToTop.addEventListener('click', function() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }
  })();
  </script>

  <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="codecraftopensource" data-description="Support me on Buy me a coffee!" data-message="Thank you for visiting and for your support." data-color="#F59E0B" data-position="Right" data-x_margin="18" data-y_margin="18"></script>
</body>
</html>